(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,t,n){e.exports=n(844)},121:function(e,t,n){},20:function(e){e.exports={a:"",b:{get:{businessTypes:"/form/params/businessTypes",loanFrequencyLabels:"/form/params/loanFrequencyLabels",loanRates:"/form/params/loanRates",maxInstalments:"/form/params/maxInstalments",maxAmounts:"/form/params/maxAmounts",loanApplications:"/loan/application/all",loans:"/loan/all"},post:{loanApplicationDraft:"/loan/application/draft",loanApplicationNew:"/loan/application/new",loanApplicationCancel:"/loan/application/cancel",loanInstalment:"/loan/instalment/confirm",signIn:"/signIn",signOut:"/signOut"}}}},23:function(e,t,n){},27:function(e){e.exports={b:["Food","Tech","Retail","Supply","Logistics"],c:["weekly","biweekly","monthly","quarterly","yearly"],d:{weekly:1.25,biweekly:2,monthly:3.25,quarterly:5,yearly:7},f:{weekly:96,biweekly:48,monthly:24,quarterly:8,yearly:2},e:{weekly:1e4,biweekly:5e3,monthly:2400,quarterly:8e3,yearly:2e4},a:["Cancelled","Pending","Accepted","Rejected"]}},62:function(e){e.exports={b:"196305958564-ih9akajaqollnnmaajtvgp3okg3oqd93.apps.googleusercontent.com",c:"81gmnsgafxvn0h",a:"814354985572954"}},844:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(19),o=n.n(r),s=(n(121),n(10)),i=n(11),c=n(14),u=n(12),m=n(13),p=n(38),d=(n(23),n(97)),h=n(846),f=n(853),g=n(847),b=n(851),y=n(849),E=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("span",{className:"text-white"},l.a.createElement("img",{href:"#",alt:"ProPic",src:this.props.profilePicURL,className:"circle my-account-btn-pic"})," My Account")}}]),t}(a.Component),v=n(29),S=n(848),k=n(27),N=n(20);var I={makeUrl:function(e){return N.a+e}};var O={makeRandomId:function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*n.length));return t},makeRandomInt:function(e){return parseInt(1e9*Math.random())%e},makeRandomDate:function(e,t){return new Date(e.getTime()+Math.random()*(t.getTime()-e.getTime()))}},w=n(754),C=!0;var L={getBusinessTypes:function(e){C?e(!0,k.b):w.get(I.makeUrl(N.b.get.businessTypes)).then(function(t){var n=JSON.parse(t);e(!0,n)}).catch(function(t){console.log(t),e(!1,null)})},getLoanFrequencyLabels:function(e){C?e(!0,k.c):w.get(I.makeUrl(N.b.get.loanFrequencyLabels)).then(function(t){var n=JSON.parse(t);e(!0,n)}).catch(function(t){console.log(t),e(!1,null)})},getLoanRates:function(e){C?e(!0,k.d):w.get(I.makeUrl(N.b.get.loanRates)).then(function(t){var n=JSON.parse(t);e(!0,n)}).catch(function(t){console.log(t),e(!1,null)})},getMaxNumInstalments:function(e){C?e(!0,k.f):w.get(I.makeUrl(N.b.get.maxInstalments)).then(function(t){var n=JSON.parse(t);e(!0,n)}).catch(function(t){console.log(t),e(!1,null)})},getMaxAmounts:function(e){C?e(!0,k.e):w.get(I.makeUrl(N.b.get.maxAmounts)).then(function(t){var n=JSON.parse(t);e(!0,n)}).catch(function(t){console.log(t),e(!1,null)})},getLoanApplicationDraftForm:function(e){if(C){var t=localStorage.getItem("loanApplicationDraft");e(!0,JSON.parse(t))}else w.get(I.makeUrl(N.b.get.loanApplicationDraft)).then(function(t){var n=JSON.parse(t);e(!0,n)}).catch(function(t){console.log(t),e(!1,null)})},getMyApplications:function(e){if(C){var t=JSON.parse(localStorage.getItem("loanApplications"));e(!0,t)}else w.get(I.makeUrl(N.b.get.loanApplications)).then(function(t){var n=JSON.parse(t);e(!0,n)}).catch(function(t){console.log(t),e(!1,null)})},getMyLoans:function(e){if(C){var t=JSON.parse(localStorage.getItem("loans"));if(null===t){t=[];for(var n=0;n<5;n++){var a={id:O.makeRandomId(5),businessTypes:k.b[O.makeRandomInt(k.b.length)],amount:1e3*O.makeRandomInt(5)+500,lastInstalmentDate:O.makeRandomDate(new Date(2018,0,1),new Date).toISOString().substring(0,10),loanFrequency:k.c[O.makeRandomInt(k.c.length)],instalments:{total:null,paid:null}};a.instalments.total=1+O.makeRandomInt(k.f[a.loanFrequency]),a.instalments.paid=O.makeRandomInt(a.instalments.total),t.push(a)}localStorage.setItem("loans",JSON.stringify(t))}e(!0,t)}else w.get(I.makeUrl(N.b.get.loans)).then(function(t){var n=JSON.parse(t);e(!0,n)}).catch(function(t){console.log(t),e(!1,null)})},postLoanApplicationDraftForm:function(e,t){if(C)return localStorage.setItem("loanApplicationDraft",JSON.stringify(e)),void t(!0);var n=JSON.parse(localStorage.getItem("user"));if(null!==n){var a={user:n,data:e};w.post(I.makeUrl(N.b.post.loanApplicationDraft),a).then(function(e){t(!0)}).catch(function(e){console.log(e),t(!1)})}else console.log("User not logged in")},postNewLoanApplication:function(e,t){if(C){var n=JSON.parse(localStorage.getItem("loanApplications"));null===n&&(n=[]);var a=e;return a.id=O.makeRandomId(5),a.status=k.a[O.makeRandomInt(4)],a.date=(new Date).toISOString().substring(0,10),console.log(a),n.push(a),localStorage.setItem("loanApplications",JSON.stringify(n)),void t(!0,a)}var l=JSON.parse(localStorage.getItem("user"));if(null===l)return console.log("User not logged in"),void t(!1,null);var r={user:l,data:e};w.post(I.makeUrl(N.b.post.loanApplicationNew),r).then(function(e){t(!0)}).catch(function(e){console.log(e),t(!1)})},postApplicationCancel:function(e,t){if(C){var n=JSON.parse(localStorage.getItem("loanApplications"));null===n&&(n=[]);var a=n.findIndex(function(t){return t.id===e.id});return null!==a&&t(!1,null),"Pending"===n[a].status?(n[a].status="Cancelled",t(!0,n[a])):(n.splice(a,1),t(!0,null)),void localStorage.setItem("loanApplications",JSON.stringify(n))}var l=JSON.parse(localStorage.getItem("user"));if(null===l)return console.log("User not logged in"),void t(!1,null);var r={user:l,data:e};w.post(I.makeUrl(N.b.post.loanApplicationCancel),r).then(function(e){t(!0,e)}).catch(function(e){console.log(e),t(!1,null)})},postLoanInstalment:function(e,t,n){if(C){if(null!==e&&e.instalments.paid<e.instalments.total){if(O.makeRandomInt(2)%2===0){var a=JSON.parse(localStorage.getItem("loans")),l=a.findIndex(function(t){return t.id===e.id});return null!==l?void n(!1,null):(a[l].lastInstalmentDate=(new Date).toISOString().substring(0,10),a[l].instalments.paid++,localStorage.setItem("loans",JSON.stringify(a)),void n(!0,a[l]))}n(!0,null)}n(!1,null)}else{var r=JSON.parse(localStorage.getItem("user"));if(null===r)return console.log("User not logged in"),void n(!1,null);var o={user:r,data:e,txId:t};w.post(I.makeUrl(N.b.post.loanInstalment),o).then(function(e){n(!0,e)}).catch(function(e){console.log(e),n(!1,null)})}},postSignIn:function(e,t){if(null!==e){var n={accessToken:null,refreshToken:null};if(C)return n.accessToken=O.makeRandomId(32),n.refreshToken=O.makeRandomId(32),e.tokens=n,localStorage.setItem("user",JSON.stringify(e)),void t(!0,e);var a={user:e};w.post(I.makeUrl(N.b.post.signIn),a).then(function(e){localStorage.setItem("user",e),t(!0,e)}).catch(function(e){console.log(e),t(!1,null)})}else t(!1,null)},postSignOut:function(e,t){if(null!==e){if(C)return localStorage.setItem("user",null),void t(!0,null);var n={user:e};w.post(I.makeUrl(N.b.post.signOut),n).then(function(e){localStorage.clear(),t(!0,null)}).catch(function(e){console.log(e),t(!1,null)})}else t(!1,null)}},j=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).signin=function(){return l.a.createElement(h.a,{eventKey:4,className:"height-inherit btn-small btn-warning",onClick:function(){return n.props.handleSignInClick()}},l.a.createElement("span",{className:"text-white"},"+ Join"))},n.account=function(){return l.a.createElement(f.a,{eventKey:5,title:l.a.createElement(E,{profilePicURL:null!=n.props.user?n.props.user._profile.profilePicURL:null}),id:"basic-nav-dropdown",className:"btn-small btn-info"},l.a.createElement(g.a,{eventKey:5.1,className:"background-white",onClick:function(){return n.props.handleNewLoanClick()}},l.a.createElement(v.FaDollar,null)," Apply for loan"),l.a.createElement(g.a,{eventKey:5.2,className:"background-white",to:"/myApplications",href:"/myApplications",componentClass:S.a},l.a.createElement(v.FaList,null)," My applications"),l.a.createElement(g.a,{eventKey:5.3,className:"background-white",to:"/myLoans",href:"/myLoans",componentClass:S.a},l.a.createElement(v.FaList,null)," My loans"),l.a.createElement(g.a,{eventKey:5.4,className:"background-white",onClick:function(){return n.handleSignOut()}},l.a.createElement(v.FaSignOut,null)," Sign out"))},n.handleSignOut=function(){L.postSignOut(n.props.user,function(e,t){e?(n.props.setUser(null),window.location="/"):alert("Sign out failed")})},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(b.a,{staticTop:!0,collapseOnSelect:!0,className:"sticky"},l.a.createElement(b.a.Header,{className:"height-inherit"},l.a.createElement(b.a.Brand,null,l.a.createElement(S.a,{className:"brand",to:"/",href:"/"},l.a.createElement("strong",null,"fund$"))),l.a.createElement(b.a.Toggle,null)),l.a.createElement(b.a.Collapse,{className:"height-inherit"},l.a.createElement(y.a,null,l.a.createElement(h.a,{eventKey:1,href:"/",to:"/",componentClass:S.a},"Home"),l.a.createElement(h.a,{eventKey:2,href:"/fundCalculator",to:"/fundCalculator",componentClass:S.a},"Calculator")),l.a.createElement(y.a,{pullRight:!0},null==this.props.user?this.signin():this.account())))}}]),t}(a.Component),A=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(j,{user:this.props.user,setUser:this.props.setUser,handleSignInClick:function(t){return e.props.handleSignInClick(t)},handleNewLoanClick:function(t){return e.props.handleNewLoanClick(t)}}),l.a.createElement("header",{className:"App-header App-bg"},l.a.createElement("div",{className:"intro"},l.a.createElement("blockquote",{className:"blockquote bg-info intro-sub-online"},l.a.createElement("div",null,"One stop funding solution for small businesses",l.a.createElement("footer",null,"All online, in a flash"))),l.a.createElement("div",{className:"intro-sub"},l.a.createElement("p",{className:"text-danger intro-sub-content"},"Apply"),l.a.createElement("p",{className:"text-info intro-sub-content"},"Get ",l.a.createElement("strong",null,"fund$")),l.a.createElement("p",{className:"text-success intro-sub-content"},"Repay")),l.a.createElement(d.a,{bsSize:"large",bsStyle:"warning",className:"get-started-btn",onClick:function(){return null===e.props.user?e.props.handleSignInClick():e.props.handleNewLoanClick()}},l.a.createElement("strong",null,"Get started now>")))))}}]),t}(a.Component),F=n(852),q=n(41),M=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).getProfilePicURL=function(){return null!==n.props.user?n.props.user._profile.profilePicURL:null},n.getProfileName=function(){return null!==n.props.user?n.props.user._profile.name:null},n.getProfileEmail=function(){return null!==n.props.user?n.props.user._profile.email:null},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"profile-card"},l.a.createElement("div",{className:"content-ver-center profile-card-img-container"},l.a.createElement("img",{src:this.getProfilePicURL(),alt:"proPic",className:"circle profile-card-img"})),l.a.createElement("div",{className:"content-ver-center profile-card-info"},l.a.createElement("span",null,l.a.createElement("strong",null,this.getProfileName())),l.a.createElement("span",{className:"italic"},this.getProfileEmail())))}}]),t}(a.Component),U=function(e){function t(e,n){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e,n))).state={items:null},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this;null===this.state.items&&this.props.getItems(function(t,n){e.setState({items:n})})}},{key:"render",value:function(){return l.a.createElement("div",{className:"form-group content-inline content-align-end"},l.a.createElement("label",{className:"control-label field-label-margin",htmlFor:this.props.identifier},this.props.label),l.a.createElement(q.a,{name:this.props.identifier,id:this.props.identifier,component:"select",required:this.props.required,className:"form-control field-width field-margin"},l.a.createElement("option",{key:0,value:""},"(Select ",this.props.label,")"),null===this.state.items?null:this.state.items.map(function(e,t){return l.a.createElement("option",{key:t+1},e)})))}}]),t}(a.Component),x=function(e){function t(e,n){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e,n))).state={data:null},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this;null===this.state.data&&this.props.getData(function(t,n){return e.setState({data:n})})}},{key:"render",value:function(){return l.a.createElement("div",{className:"form-group content-inline content-align-end"},l.a.createElement("label",{className:"control-label field-label-margin"},this.props.label),l.a.createElement("pre",{className:"form-control field-width field-margin"},this.props.processData(this.state.data)))}}]),t}(a.Component),P=function(e){function t(e,n){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e,n))).state={placeholderData:null},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this;null===this.state.placeholderData&&this.props.getPlaceholder(function(t,n){return e.setState({placeholderData:n})})}},{key:"render",value:function(){return l.a.createElement("div",{className:"form-group content-inline content-align-end"},l.a.createElement("label",{className:"control-label field-label-margin"},this.props.label),l.a.createElement(q.a,{name:this.props.identifier,component:"input",type:"number",min:"0",placeholder:this.props.processPlaceholder(this.state.placeholderData),className:"form-control field-width field-margin",required:this.props.required,pattern:"[0-9]",title:"Please enter number only"}))}}]),t}(a.Component);var R={getTotalPayable:function(e,t){return parseFloat(e*(1+t/100)).toFixed(2)},getPerInstalment:function(e,t,n){return parseFloat(parseFloat(e)/parseInt(n)*(1+t/100)).toFixed(2)}},D=function(e){function t(e,n){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e,n))).handleSocialLogin=function(e){a.props.setUser(e),a.props.handleClose()},a.handleSocialLoginFailure=function(e){console.error(e),alert("Sign in with Social media failed. Please check yout network configuration or try signing in with some other social media")},a.onSubmit=function(e){L.postNewLoanApplication(e,function(e,t){a.props.addMyApplication(t),e?a.props.handleClose():alert("Application submission failed")})},a.state={formValues:null},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(F.a,{show:this.props.show,onHide:function(){return e.props.handleClose()}},l.a.createElement(F.a.Header,{closeButton:!0},l.a.createElement(F.a.Title,null,this.props.modalTitle," ",l.a.createElement("button",{type:"button",className:"btn btn-small btn-info",onClick:function(){return L.getLoanApplicationDraftForm(function(t,n){return e.setState({formValues:n})})}},"Restore last draft"))),l.a.createElement(F.a.Body,{className:"new-loan-modal-container"},l.a.createElement(M,{user:this.props.user}),l.a.createElement("hr",null),l.a.createElement(q.b,{onSubmit:this.onSubmit,initialValues:this.state.formValues,values:this.state.formValues,render:function(t){var n=t.handleSubmit,a=t.form,r=t.submitting,o=t.pristine,s=t.values;return l.a.createElement("form",{onSubmit:n,className:"form-horizontal"},l.a.createElement(U,{label:"Business type",identifier:"businessTypes",getItems:L.getBusinessTypes,required:!0}),l.a.createElement(U,{label:"Repay frequency",identifier:"loanFrequency",getItems:L.getLoanFrequencyLabels,required:!0}),l.a.createElement(P,{label:"Number of instalments",identifier:"instalments",getPlaceholder:L.getMaxNumInstalments,processPlaceholder:function(e){return null===e?null:void 0===e[s.loanFrequency]?null:"max "+parseInt(e[s.loanFrequency])},required:!0}),l.a.createElement(P,{label:"Loan amount (USD)",identifier:"amount",getPlaceholder:L.getMaxAmounts,processPlaceholder:function(e){return null===e?null:void 0===e[s.loanFrequency]?null:"max $"+e[s.loanFrequency]},required:!0}),l.a.createElement(x,{label:"Total repayable (USD)",getData:L.getLoanRates,processData:function(e){return null===e?null:void 0===e[s.loanFrequency]||void 0===s.amount?null:R.getTotalPayable(s.amount,e[s.loanFrequency])}}),l.a.createElement(x,{label:"Per instalment (USD)",getData:L.getLoanRates,identifier:"perInstalment",processData:function(e){return null===e?null:void 0===e[s.loanFrequency]||void 0===s.amount?null:R.getPerInstalment(s.amount,e[s.loanFrequency],s.instalments)}}),l.a.createElement("div",{className:"form-group content-inline content-align-end"},l.a.createElement("label",{className:"control-label field-label-margin"},"Upload docs"),l.a.createElement("input",{name:"docs",component:"input",type:"file",placeholder:"docs",className:"form-control field-width field-margin",onChange:function(e){return 0===e.target.length?null:s.docs=e.target.files[0]},required:!0})),l.a.createElement("hr",null),l.a.createElement("div",{className:"buttons content-inline content-space-between"},l.a.createElement("button",{type:"button",className:"btn btn-primary",disabled:r||o,onClick:function(){L.postLoanApplicationDraftForm(s,function(t){t&&(e.props.handleClose(),alert("Application draft saved"))})}},"Save as draft"),l.a.createElement("div",{className:"content-align-end"},l.a.createElement("button",{type:"submit",className:"btn btn-success",disabled:r||o},"Submit"),l.a.createElement("button",{type:"button",onClick:function(){return a.reset({})},className:"btn btn-danger",disabled:r},"Reset"))))}})))}}]),t}(a.Component),T=n(62),J=n(114),B=n(112),W=n.n(B)()(function(e){var t=e.children,n=e.triggerLogin,a=Object(J.a)(e,["children","triggerLogin"]);return l.a.createElement(d.a,Object.assign({onClick:n},a),t)}),K=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).handleSocialLogin=function(e){L.postSignIn(e,function(e,t){e?(n.props.setUser(t),n.props.handleClose()):alert("SignIn failed")})},n.handleSocialLoginFailure=function(e){console.error(e),alert("Sign in with Social media failed. Please check yout network configuration or try signing in with some other social media")},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(F.a,{show:this.props.show,onHide:function(){return e.props.handleClose()}},l.a.createElement(F.a.Header,{closeButton:!0},l.a.createElement(F.a.Title,null,"Sign in using:")),l.a.createElement(F.a.Body,{className:"sign-in-btn-container"},l.a.createElement(W,{provider:"facebook",appId:T.a,onLoginSuccess:this.handleSocialLogin,onLoginFailure:this.handleSocialLoginFailure},l.a.createElement(v.FaFacebook,{className:"font-xlarge"})," Facebook"),l.a.createElement(W,{provider:"google",appId:T.b,onLoginSuccess:this.handleSocialLogin,onLoginFailure:this.handleSocialLoginFailure},l.a.createElement(v.FaGoogle,{className:"font-xlarge"})," Google"),l.a.createElement(W,{provider:"linkedin",appId:T.c,onLoginSuccess:this.handleSocialLogin,onLoginFailure:this.handleSocialLoginFailure},l.a.createElement(v.FaLinkedin,{className:"font-xlarge"})," LinkedIn")),l.a.createElement(F.a.Footer,null,l.a.createElement(d.a,{bsStyle:"danger",onClick:function(){return e.props.handleClose()}},"Close")))}}]),t}(a.Component),z=n(850),H=function(e){function t(e,n){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e,n))).state={rates:null},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this;null===this.props.applications&&L.getMyApplications(function(t,n){e.props.setMyApplications(n)}),null===this.state.rates&&L.getLoanRates(function(t,n){e.setState({rates:n})})}},{key:"cancelApplication",value:function(e,t){var n=this,a=window.prompt("Please enter the application id to confirm:");null!==a&&(a===e.id?L.postApplicationCancel(e,function(e,a){if(e){var l=n.props.applications;null!==l&&l.length>t&&(null===a?l.splice(t,1):l[t]=a,n.props.setMyApplications(l))}else alert("Error occurred, action failed")}):alert("Wrong application id entered"))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"App-bg my-application content-hor-center"},l.a.createElement(j,{user:this.props.user,setUser:function(t){return e.props.setUser(t)},handleSignInClick:function(t){return e.props.handleSignInClick(t)},handleNewLoanClick:function(t){return e.props.handleNewLoanClick(t)}}),l.a.createElement(z.a,{className:"avoid-navbar my-application-table",responsive:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null),l.a.createElement("th",null,"#"),l.a.createElement("th",null,"ID"),l.a.createElement("th",null,"Created"),l.a.createElement("th",null,"Status"),l.a.createElement("th",null,"Business Type"),l.a.createElement("th",null,"Amount (USD)"),l.a.createElement("th",null,"Total Repayable (USD)"),l.a.createElement("th",null,"Per Instalment (USD)"),l.a.createElement("th",null,"Repay Frequency"),l.a.createElement("th",null,"Number of Instalments"))),l.a.createElement("tbody",null,null===this.props.applications||void 0===this.props.applications?null:this.props.applications.map(function(t,n){return l.a.createElement("tr",{key:n},l.a.createElement("td",null,l.a.createElement(v.FaClose,{onClick:function(a){return e.cancelApplication(t,n)}})),l.a.createElement("td",null,n+1),l.a.createElement("td",null,t.id),l.a.createElement("td",null,t.date),l.a.createElement("td",null,t.status),l.a.createElement("td",null,t.businessTypes),l.a.createElement("td",null,t.amount),l.a.createElement("td",null,null===e.state.rates?null:R.getTotalPayable(t.amount,e.state.rates[t.loanFrequency])),l.a.createElement("td",null,null===e.state.rates?null:R.getPerInstalment(t.amount,e.state.rates[t.loanFrequency],t.instalments)),l.a.createElement("td",null,t.loanFrequency),l.a.createElement("td",null,t.instalments))}))))}}]),t}(a.Component),G=function(e){function t(e,n){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e,n))).state={rates:null},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this;null===this.props.loans&&L.getMyLoans(function(t,n){e.props.setMyLoans(n),console.log(n)}),null===this.state.rates&&L.getLoanRates(function(t,n){e.setState({rates:n})})}},{key:"handleRepay",value:function(e,t){var n=this,a=window.prompt("Please enter the transaction id of payment to confirm:");null!==a&&(""!==a?e.instalments.paid>=e.instalments.total?alert("All instalments already completed"):L.postLoanInstalment(e,a,function(e,a){if(e){if(null===a)return void alert("The transacion ID provided for instalment repayment was not valid");var l=n.props.loans;null!==l&&l.length>t&&(l[t]=a,n.props.setMyLoans(l))}else alert("Instalment repayment confirmation failed. Please try again later or contact support")}):alert("Please enter a valid transaction Id"))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"App-bg my-loan content-hor-center"},l.a.createElement(j,{user:this.props.user,setUser:function(t){return e.props.setUser(t)},handleSignInClick:function(t){return e.props.handleSignInClick(t)},handleNewLoanClick:function(t){return e.props.handleNewLoanClick(t)}}),l.a.createElement(z.a,{className:"avoid-navbar my-loan-table",responsive:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null),l.a.createElement("th",null,"#"),l.a.createElement("th",null,"ID"),l.a.createElement("th",null,"Business Type"),l.a.createElement("th",null,"Amount (USD)"),l.a.createElement("th",null,"Total Amount (USD)"),l.a.createElement("th",null,"Per Instalment (USD)"),l.a.createElement("th",null,"Last Instalment"),l.a.createElement("th",null,"Repay Frequency"),l.a.createElement("th",null,"Remaining Instalments"))),l.a.createElement("tbody",null,null===this.props.loans?null:this.props.loans.map(function(t,n){return l.a.createElement("tr",{key:n},l.a.createElement("td",null,l.a.createElement(d.a,{bsStyle:"success",bsSize:"small",onClick:function(){return e.handleRepay(t,n)}},"Repay")),l.a.createElement("td",null,n+1),l.a.createElement("td",null,t.id),l.a.createElement("td",null,t.businessTypes),l.a.createElement("td",null,t.amount),l.a.createElement("td",null,null===e.state.rates?null:R.getTotalPayable(t.amount,e.state.rates[t.loanFrequency])),l.a.createElement("td",null,null===e.state.rates?null:R.getPerInstalment(t.amount,e.state.rates[t.loanFrequency],t.instalments.total)),l.a.createElement("td",null,t.lastInstalmentDate),l.a.createElement("td",null,t.loanFrequency),l.a.createElement("td",null,t.instalments.paid+"/"+t.instalments.total))}))))}}]),t}(a.Component),V=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.amount&&this.props.loanRates&&this.props.selectedFrequency&&this.props.numberOfInstalments?this.props.amount>this.props.maxAmounts[this.props.selectedFrequency]?l.a.createElement("div",{className:"intro-sub"},l.a.createElement("p",{className:"text-danger intro-sub-content"},"Amount exceeds maximum allowed fund for ",this.props.selectedFrequency," repays: ",this.props.maxAmounts[this.props.selectedFrequency],"USD")):this.props.numberOfInstalments>this.props.maxNumberOfInstalments[this.props.selectedFrequency]?l.a.createElement("div",{className:"intro-sub"},l.a.createElement("p",{className:"text-danger intro-sub-content"},"Number of instalments exceeds maximum allowed number of instalments for ",this.props.selectedFrequency," repays: ",this.props.maxNumberOfInstalments[this.props.selectedFrequency])):l.a.createElement("div",{className:"intro-sub"},l.a.createElement("p",{className:"text-danger intro-sub-content"},"Total Repay (USD): ",l.a.createElement("strong",null,R.getTotalPayable(this.props.amount,this.props.loanRates[this.props.selectedFrequency]))),l.a.createElement("p",{className:"text-info intro-sub-content"},"Per Instalment (USD): ",l.a.createElement("strong",null,R.getPerInstalment(this.props.amount,this.props.loanRates[this.props.selectedFrequency],this.props.numberOfInstalments)))):l.a.createElement("div",{className:"intro-sub"},l.a.createElement("p",{className:"text-danger intro-sub-content"},"Please fill out all the fields"))}}]),t}(a.Component),$=function(e){function t(e,n){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e,n))).instalmentFrequencySelect=function(){return l.a.createElement("select",{className:"calculator-select-loanFrequency",onChange:function(e){return a.setState({selectedFrequency:e.target.value})}},l.a.createElement("option",{key:0,value:""},"(frequency)"),null===a.state.instalmentFrequency?null:a.state.instalmentFrequency.map(function(e,t){return l.a.createElement("option",{key:t+1,value:e},e)}))},a.state={maxAmounts:null,loanRates:null,instalmentFrequency:null,maxNumberOfInstalments:null,amount:null,selectedFrequency:null,numberOfInstalments:null},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this;null===this.state.instalmentFrequency&&L.getLoanFrequencyLabels(function(t,n){t&&e.setState({instalmentFrequency:n})}),null===this.state.maxNumberOfInstalments&&L.getMaxNumInstalments(function(t,n){t&&e.setState({maxNumberOfInstalments:n})}),null===this.state.maxAmounts&&L.getMaxAmounts(function(t,n){t&&e.setState({maxAmounts:n})}),null===this.state.loanRates&&L.getLoanRates(function(t,n){t&&e.setState({loanRates:n})})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(j,{user:this.props.user,setUser:this.props.setUser,handleSignInClick:function(t){return e.props.handleSignInClick(t)},handleNewLoanClick:function(t){return e.props.handleNewLoanClick(t)}}),l.a.createElement("header",{className:"App-header App-bg"},l.a.createElement("div",{className:"intro-calc"},l.a.createElement("blockquote",{className:"blockquote bg-info intro-sub-online"},l.a.createElement("div",null,"I need USD ",l.a.createElement("input",{className:"calculator-input-amount",name:"numberOfInstalments",type:"number",min:"0",size:"4",onChange:function(t){return e.setState({amount:t.target.value})}})," with a number of ",l.a.createElement("input",{className:"calculator-input-numberOfInstalments",name:"numberOfInstalments",type:"number",min:"0",placeholder:"",size:"1",onChange:function(t){return e.setState({numberOfInstalments:t.target.value})}})," repays ",this.instalmentFrequencySelect())),l.a.createElement(V,this.state),l.a.createElement(d.a,{bsSize:"large",bsStyle:"warning",className:"get-started-btn",onClick:function(){return null===e.props.user?e.props.handleSignInClick():e.props.handleNewLoanClick()}},l.a.createElement("strong",null,"Get started now>")))))}}]),t}(a.Component),_=n(854),Q=n(856),X=n(855),Y=n(857),Z=function(e){function t(e,n){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e,n))).handleShowSignInModal=a.handleShowSignInModal.bind(Object(p.a)(Object(p.a)(a))),a.handleCloseSignInModal=a.handleCloseSignInModal.bind(Object(p.a)(Object(p.a)(a))),a.state={showSignInModal:!1,showNewLoanModal:!1,newLoanModalTitle:"New loan application",user:null,myApplications:null,myLoans:null},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=JSON.parse(localStorage.getItem("user"));null!==e&&this.setState({user:e})}},{key:"handleCloseSignInModal",value:function(){this.setState({showSignInModal:!1})}},{key:"handleShowSignInModal",value:function(){this.setState({showSignInModal:!0})}},{key:"handleCloseNewLoanModal",value:function(){this.setState({showNewLoanModal:!1})}},{key:"handleShowNewLoanModal",value:function(){this.setState({showNewLoanModal:!0})}},{key:"setUser",value:function(e){this.setState({user:e})}},{key:"renderIntroPage",value:function(){var e=this;return l.a.createElement(A,{user:this.state.user,setUser:function(t){return e.setUser(t)},handleSignInClick:function(t){return e.handleShowSignInModal()},handleNewLoanClick:function(t){return e.handleShowNewLoanModal()}})}},{key:"renderMyApplicationPage",value:function(){var e=this;return null===this.state.user?l.a.createElement(Y.a,{to:"/"}):l.a.createElement(H,{user:this.state.user,setUser:function(t){return e.setUser(t)},handleSignInClick:function(t){return e.handleShowSignInModal()},handleNewLoanClick:function(t){return e.handleShowNewLoanModal()},applications:this.state.myApplications,setMyApplications:function(t){return e.setState({myApplications:t})}})}},{key:"renderMyLoansPage",value:function(){var e=this;return null===this.state.user?l.a.createElement(Y.a,{to:"/"}):l.a.createElement(G,{user:this.state.user,setUser:function(t){return e.setUser(t)},handleSignInClick:function(t){return e.handleShowSignInModal()},handleNewLoanClick:function(t){return e.handleShowNewLoanModal()},loans:this.state.myLoans,setMyLoans:function(t){return e.setState({myLoans:t})}})}},{key:"renderCalculator",value:function(){var e=this;return l.a.createElement($,{user:this.state.user,setUser:function(t){return e.setUser(t)},handleSignInClick:function(t){return e.handleShowSignInModal()},handleNewLoanClick:function(t){return e.handleShowNewLoanModal()}})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"App"},l.a.createElement(K,{show:this.state.showSignInModal,handleClose:function(){return e.handleCloseSignInModal()},setUser:function(t){return e.setUser(t)}}),l.a.createElement(D,{show:this.state.showNewLoanModal,handleClose:function(){return e.handleCloseNewLoanModal()},user:this.state.user,modalTitle:this.state.newLoanModalTitle,addMyApplication:function(t){var n=e.state.myApplications;null!==n&&(n.push(t),e.setState({myApplications:n}))}}),l.a.createElement(_.a,null,l.a.createElement(Q.a,null,l.a.createElement(X.a,{exact:!0,path:"/",render:function(){return e.renderIntroPage()}}),l.a.createElement(X.a,{exact:!0,path:"/myApplications",render:function(){return e.renderMyApplicationPage()}}),l.a.createElement(X.a,{exact:!0,path:"/myLoans",render:function(){return e.renderMyLoansPage()}}),l.a.createElement(X.a,{exact:!0,path:"/fundCalculator",render:function(){return e.renderCalculator()}}))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[116,2,1]]]);
//# sourceMappingURL=main.b209265b.chunk.js.map